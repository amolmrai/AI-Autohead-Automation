                ┌────────────────────────────┐
                │      Playwright Test       │
                │                            │
                └────────────┬───────────────┘
                             │
                             ▼
              ┌─────────────────────────────┐
              │      Initialized            |
              |    aiHealAction (Model)     |
              └────────────┬────────────────┘
                           │
        ┌──────────────────┼──────────────────────┐
        │                  │                      │
        ▼                  ▼                      ▼
┌──────────────┐   ┌────────────────┐     ┌────────────────────────┐
│ Playwright   │   │ DOM Snapshot   │     │   Error Handling /     │
│  Page Object │   │ (utils/dom.js) │     │   Selector Recovery    │
└──────────────┘   └────────────────┘     └────────────────────────┘
                                                │
                                                ▼
                                  ┌──────────────────────────────┐
                                  │   Healing Engine Dispatcher  │
                                  (code assist / Gemini switch)  │
                                  └────────────┬─────────────────┘
                                               │
                ┌──────────────────────────────┼─────────────────────────────┐
                ▼                              ▼                             ▼
      ┌────────────────────┐        ┌────────────────────┐         ┌────────────────────────┐
      │ engines/openai.js  │        │ engines/gemini.js  │         │ (Future: Custom plugin)│
      │ Uses GPT API       │        │ Uses Gemini API    │         │ AI or heuristic logic  │
      └────────────────────┘        └────────────────────┘         └────────────────────────┘
